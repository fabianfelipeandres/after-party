"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[33],{33:(P,u,i)=>{i.r(u),i.d(u,{OrdenPageModule:()=>T});var d=i(6895),c=i(433),n=i(4556),g=i(1407),Z=i(655),m=i(4373),o=i(8256),v=i(595),h=i(529);function f(e,a){if(1&e&&(o.TgZ(0,"ion-item")(1,"ion-avatar",0),o._UZ(2,"ion-img",20),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4),o.qZA(),o.TgZ(5,"ion-label"),o._uU(6),o.qZA()()),2&e){const t=a.$implicit;o.xp6(2),o.cQ8("src","http://localhost:8090/api/files/",t.collectionId,"/",t.id,"/",t.field,""),o.xp6(2),o.Oqu(t.nombre),o.xp6(2),o.Oqu(t.valor)}}const O=[{path:"",component:(()=>{class e{constructor(t,r){this.service=t,this.http=r,this.productos=[],this.productos=this.service.messages,this.valor=this.service.total,this.cantProductos=this.service.cantidad,this.auth=this.service.pocket_auth}getnumerOrden(){}getcantidad(){this.service.micantidad$.subscribe(t=>{this.cantProductos=t})}getvalor(){this.service.mivariable$.subscribe(t=>{this.valor=t})}guardarOrden(t,r){return(0,Z.mG)(this,void 0,void 0,function*(){const l=new m.ZP("http://127.0.0.1:8090/");try{const s={id_orden:1,cantidad_productos:parseInt(this.cantProductos),precio_orden:parseInt(this.valor),comuna:t,direccion:r,usuario:this.auth[0]};console.log(s),yield l.collection("orden").create(s)}catch(s){console.error(s)}})}ngOnInit(){this.getcantidad(),this.getvalor()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(v.U),o.Y36(h.eN))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-orden"]],decls:50,vars:3,consts:[["slot","start"],["defaultHref","carrito"],[1,"col-lg-12"],[1,"col-lg-6"],[1,"col-md-10"],["placeholder","Selecciona Comuna","required",""],["comuna",""],["value","La Cisterna"],["value","La Florida"],["value","La Granja"],["value","Macul"],["value","\xd1u\xf1oa"],["value","San Joaquin"],["value","San Miguel"],["value","San Ramon"],["value","Santiago"],["type","text","required","",1,"form-control"],["direccion",""],[4,"ngFor","ngForOf"],["type","submit",3,"click"],["alt","",3,"src"]],template:function(t,r){if(1&t){const l=o.EpF();o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"Orden"),o.qZA(),o.TgZ(4,"ion-buttons",0),o._UZ(5,"ion-back-button",1),o.qZA()()(),o.TgZ(6,"ion-content")(7,"ion-card")(8,"div",2)(9,"div",3)(10,"form",4)(11,"ion-list")(12,"ion-item")(13,"label"),o._uU(14),o.qZA()(),o.TgZ(15,"ion-item")(16,"ion-select",5,6)(18,"ion-select-option",7),o._uU(19,"La Cisterna"),o.qZA(),o.TgZ(20,"ion-select-option",8),o._uU(21,"La Florida"),o.qZA(),o.TgZ(22,"ion-select-option",9),o._uU(23,"La Granja"),o.qZA(),o.TgZ(24,"ion-select-option",10),o._uU(25,"Macul"),o.qZA(),o.TgZ(26,"ion-select-option",11),o._uU(27,"\xd1u\xf1oa"),o.qZA(),o.TgZ(28,"ion-select-option",12),o._uU(29,"San Joaquin"),o.qZA(),o.TgZ(30,"ion-select-option",13),o._uU(31,"San Miguel"),o.qZA(),o.TgZ(32,"ion-select-option",14),o._uU(33,"San Ramon"),o.qZA(),o.TgZ(34,"ion-select-option",15),o._uU(35,"Santiago"),o.qZA()()(),o.TgZ(36,"ion-item")(37,"label"),o._uU(38,"Direccion:"),o.qZA(),o._UZ(39,"input",16,17),o.qZA(),o.YNc(41,f,7,5,"ion-item",18),o.TgZ(42,"ion-item")(43,"ion-label"),o._uU(44,"Total"),o.qZA(),o.TgZ(45,"ion-label"),o._uU(46),o.qZA()(),o.TgZ(47,"ion-item")(48,"ion-button",19),o.NdJ("click",function(){o.CHM(l);const p=o.MAs(17),U=o.MAs(40);return o.KtG(r.guardarOrden(p.value,U.value))}),o._uU(49,"Generar Orden"),o.qZA()()()()()()()()}2&t&&(o.xp6(14),o.hij("Usuario: ",r.auth,""),o.xp6(27),o.Q6J("ngForOf",r.productos),o.xp6(5),o.Oqu(r.valor))},dependencies:[d.sg,c._Y,c.JL,c.F,n.BJ,n.oU,n.YG,n.Sm,n.PM,n.W2,n.Gu,n.Xz,n.Ie,n.Q$,n.q_,n.t9,n.n0,n.wd,n.sr,n.QI,n.cs]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[g.Bz.forChild(O),g.Bz]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[d.ez,c.u5,n.Pc,A]}),e})()}}]);